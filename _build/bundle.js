!function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=n,e.c=t,e.i=function(n){return n},e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=0)}([function(n,e){function t(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}var r=document.getElementById("customer-items"),o=document.getElementById("new-customer-form"),c=document.getElementById("new-customer-action"),i=document.getElementById("new-customer-container"),a=document.getElementById("new-customer-form-close"),u=fetch("http://172.20.21.90:8080/api/contacts",{method:"GET",timeout:2e3}),l=function(){return new Promise(function(n,e){var t=u.then(function(n){return n.json()}).then(function(n){r.innerHTML=n.map(function(n){return'\n          <li data-id="'+n._id+'">\n            <label><input class="toggle" type="checkbox"></input>'+n.name+"</label>\n            <span>"+n.name+"</span>\n            <span>"+n.orgno+"</span>\n            <span>"+n.leader_name+"</span>\n            <span>"+n.leader_title+"</span>\n            <span>"+n.type+'</span>\n            <button class="destroy"></button>\n          </li>'}).join("")}).catch(function(n){console.error(n),r.innerHTML="<li>Ingen kunder ble funnet. Noe må være galt!</li>"});t?n(t):(r.innerHTML="<li>Noe gikk galt</li>",e(Error("Dont work")))})},s=function(){l().then(function(){var n=[].concat(t(document.querySelectorAll(".destroy")));n.map(function(n){return n.addEventListener("click",function(){var e=n.parentElement.getAttribute("data-id"),t=fetch("http://172.20.21.90:8080/api/contacts/"+e,{method:"DELETE"});t.then(function(n){return n.json()}).then(function(n){console.log(JSON.stringify(n))}).catch(function(n){console.error(n)})})})})};o.onsubmit=function(){var n=document.getElementById("customer_name").validity.patternMismatch;console.log(n);var e={name:customer_name.value,orgno:parseInt(orgno.value,10),leader_title:leader_title.value,leader_name:leader_title.value,type:type.value},t=fetch("http://172.20.21.90:8080/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.then(function(n){return n.json()}).then(function(n){console.log(JSON.stringify(n))}).catch(function(n){console.error(n)}),!1};var f=function(n){n.classList.toggle("visible")};c.addEventListener("click",function(){return f(i)}),a.addEventListener("click",function(){return f(i)}),s()}]);
//# sourceMappingURL=bundle.js.map