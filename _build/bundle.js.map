{"version":3,"sources":["webpack:///_build/bundle.js","webpack:///webpack/bootstrap ad0f3852cde690d28cd7","webpack:///./app.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_toConsumableArray","arr","Array","isArray","arr2","length","from","customerList","document","getElementById","newCustomerForm","newCustomerAction","newCustomerContainer","newCustomerFormClose","customerPromise","fetch","method","timeout","refreshCustomers","Promise","resolve","reject","customerMarkup","then","responses","json","customers","innerHTML","map","customer","_id","orgno","leader_name","leader_title","type","join","catch","err","console","error","Error","updateList","deleteElements","querySelectorAll","element","addEventListener","id","parentElement","getAttribute","customerDeletePromise","result","log","JSON","stringify","onsubmit","testNineDigits","validity","patternMismatch","newCustomer","customer_name","parseInt","postPromise","headers","Content-Type","body","toggleForm","classList","toggle"],"mappings":"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","file":"_build/bundle.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// import { removeCustomer } from './src/utils';\n\nvar customerList = document.getElementById('customer-items');\nvar newCustomerForm = document.getElementById('new-customer-form');\nvar newCustomerAction = document.getElementById('new-customer-action');\nvar newCustomerContainer = document.getElementById('new-customer-container');\nvar newCustomerFormClose = document.getElementById('new-customer-form-close');\n\n// Tenker at url burde være i en config.js som importeres og gjenbrukes\n/* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_id\"] }]*/\n\nvar customerPromise = fetch('http://172.20.21.90:8080/api/contacts', { method: 'GET', timeout: 2000 });\n\nvar refreshCustomers = function refreshCustomers() {\n  return new Promise(function (resolve, reject) {\n    var customerMarkup = customerPromise.then(function (responses) {\n      return responses.json();\n    }).then(function (customers) {\n      customerList.innerHTML = customers.map(function (customer) {\n        return '\\n          <li data-id=\"' + customer._id + '\">\\n            <label><input class=\"toggle\" type=\"checkbox\"></input>' + customer.name + '</label>\\n            <span>' + customer.name + '</span>\\n            <span>' + customer.orgno + '</span>\\n            <span>' + customer.leader_name + '</span>\\n            <span>' + customer.leader_title + '</span>\\n            <span>' + customer.type + '</span>\\n            <button class=\"destroy\"></button>\\n          </li>';\n      }).join('');\n    }).catch(function (err) {\n      // handle error response\n      console.error(err);\n      customerList.innerHTML = '<li>Ingen kunder ble funnet. Noe må være galt!</li>';\n    });\n    if (customerMarkup) {\n      resolve(customerMarkup);\n    } else {\n      customerList.innerHTML = '<li>Noe gikk galt</li>';\n      reject(Error('Dont work'));\n    }\n  });\n};\n\nvar updateList = function updateList() {\n  refreshCustomers().then(function () {\n    var deleteElements = [].concat(_toConsumableArray(document.querySelectorAll('.destroy')));\n    deleteElements.map(function (element) {\n      return element.addEventListener('click', function () {\n        var id = element.parentElement.getAttribute('data-id');\n        var customerDeletePromise = fetch('http://172.20.21.90:8080/api/contacts/' + id, {\n          method: 'DELETE'\n        });\n        customerDeletePromise.then(function (responses) {\n          return responses.json();\n        }).then(function (result) {\n          console.log(JSON.stringify(result));\n          // Update customer list on the fly\n        }).catch(function (err) {\n          // handle error response\n          console.error(err);\n        });\n      });\n    });\n  });\n};\n/* eslint-enable*/\n/* global customer_name:true*/\n/* global orgno:true*/\n/* global leader_title:true*/\n/* global leader_title:true*/\n/* global type:true*/\n\nnewCustomerForm.onsubmit = function submitCustomerForm() {\n  var testNineDigits = document.getElementById('customer_name').validity.patternMismatch;\n  console.log(testNineDigits);\n  // get the input from the form in a smarter way\n  var newCustomer = {\n    name: customer_name.value,\n    orgno: parseInt(orgno.value, 10),\n    leader_title: leader_title.value,\n    leader_name: leader_title.value,\n    type: type.value\n  };\n\n  // move this out to separate js module/file with newCustomer as param\n  var postPromise = fetch('http://172.20.21.90:8080/api/contacts', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(newCustomer)\n  });\n\n  postPromise.then(function (responses) {\n    return responses.json();\n  }).then(function (result) {\n    console.log(JSON.stringify(result));\n    // Update the list and give the user a confirmation message\n  }).catch(function (err) {\n    console.error(err);\n    // handle errors\n  });\n  // Don't send the form\n  return false;\n};\n\nvar toggleForm = function toggleForm(element) {\n  element.classList.toggle('visible');\n};\n\n// add eventlistener to the plus icon\nnewCustomerAction.addEventListener('click', function () {\n  return toggleForm(newCustomerContainer);\n});\nnewCustomerFormClose.addEventListener('click', function () {\n  return toggleForm(newCustomerContainer);\n});\n\nupdateList();\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// _build/bundle.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ad0f3852cde690d28cd7","\n// import { removeCustomer } from './src/utils';\n\nconst customerList = document.getElementById('customer-items');\nconst newCustomerForm = document.getElementById('new-customer-form');\nconst newCustomerAction = document.getElementById('new-customer-action');\nconst newCustomerContainer = document.getElementById('new-customer-container');\nconst newCustomerFormClose = document.getElementById('new-customer-form-close');\n\n// Tenker at url burde være i en config.js som importeres og gjenbrukes\n/* eslint no-underscore-dangle: [\"error\", { \"allow\": [\"_id\"] }]*/\n\nconst customerPromise = fetch('http://172.20.21.90:8080/api/contacts', { method: 'GET', timeout: 2000 });\n\nconst refreshCustomers = function refreshCustomers() {\n  return new Promise((resolve, reject) => {\n    const customerMarkup = customerPromise\n      .then(responses => responses.json())\n      .then((customers) => {\n        customerList.innerHTML = customers.map(customer => `\n          <li data-id=\"${customer._id}\">\n            <label><input class=\"toggle\" type=\"checkbox\"></input>${customer.name}</label>\n            <span>${customer.name}</span>\n            <span>${customer.orgno}</span>\n            <span>${customer.leader_name}</span>\n            <span>${customer.leader_title}</span>\n            <span>${customer.type}</span>\n            <button class=\"destroy\"></button>\n          </li>`).join('');\n      })\n      .catch((err) => {\n        // handle error response\n        console.error(err);\n        customerList.innerHTML = '<li>Ingen kunder ble funnet. Noe må være galt!</li>';\n      });\n    if (customerMarkup) {\n      resolve(customerMarkup);\n    } else {\n      customerList.innerHTML = '<li>Noe gikk galt</li>';\n      reject(Error('Dont work'));\n    }\n  });\n};\n\nconst updateList = function updateList() {\n  refreshCustomers()\n    .then(() => {\n      const deleteElements = [...document.querySelectorAll('.destroy')];\n      deleteElements.map(element =>\n        element.addEventListener('click', () => {\n          const id = element.parentElement.getAttribute('data-id');\n          const customerDeletePromise = fetch(`http://172.20.21.90:8080/api/contacts/${id}`, {\n            method: 'DELETE',\n          });\n          customerDeletePromise\n          .then(responses => responses.json())\n          .then((result) => {\n            console.log(JSON.stringify(result));\n            // Update customer list on the fly\n          })\n          .catch((err) => {\n              // handle error response\n              console.error(err);\n          });\n        }),\n      );\n    },\n  );\n};\n/* eslint-enable*/\n/* global customer_name:true*/\n/* global orgno:true*/\n/* global leader_title:true*/\n/* global leader_title:true*/\n/* global type:true*/\n\nnewCustomerForm.onsubmit = function submitCustomerForm() {\n  const testNineDigits = document.getElementById('customer_name').validity.patternMismatch;\n  console.log(testNineDigits);\n  // get the input from the form in a smarter way\n  const newCustomer = {\n    name: customer_name.value,\n    orgno: parseInt(orgno.value, 10),\n    leader_title: leader_title.value,\n    leader_name: leader_title.value,\n    type: type.value,\n  };\n\n// move this out to separate js module/file with newCustomer as param\n  const postPromise = fetch('http://172.20.21.90:8080/api/contacts', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(newCustomer),\n  });\n\n  postPromise\n    .then(responses => responses.json())\n    .then((result) => {\n      console.log(JSON.stringify(result));\n      // Update the list and give the user a confirmation message\n    })\n    .catch((err) => {\n      console.error(err);\n      // handle errors\n    });\n  // Don't send the form\n  return false;\n};\n\nconst toggleForm = function toggleForm(element) {\n  element.classList.toggle('visible');\n};\n\n// add eventlistener to the plus icon\nnewCustomerAction.addEventListener('click', () => toggleForm(newCustomerContainer));\nnewCustomerFormClose.addEventListener('click', () => toggleForm(newCustomerContainer));\n\nupdateList();\n\n\n\n// WEBPACK FOOTER //\n// ./app.js"],"sourceRoot":""}